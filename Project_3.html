
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Project 3: Professional Hosts in NYC Airbnb Market &#8212; Liu Haixin&#39;s Portfolio</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Project_3';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Project 2: Do Investment Preferences Match Market Reality?" href="Project_2.html" />
    <link rel="prev" title="Haixin Liu’s Portfolio" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Liu Haixin's Portfolio</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Haixin Liu’s Portfolio
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Project 3: Professional Hosts in NYC Airbnb Market</a></li>
<li class="toctree-l1"><a class="reference internal" href="Project_2.html">Project 2: Investment Preferences vs. Market Reality</a></li>
<li class="toctree-l1"><a class="reference internal" href="Project_1.html">Project 1: Finance Trends Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="lecture_16_example.html">Lecture 16 Example</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Project_3.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Project 3: Professional Hosts in NYC Airbnb Market</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#do-professional-hosts-dominate-the-nyc-airbnb-market">Do “Professional Hosts” Dominate the NYC Airbnb Market?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt">Prompt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#research-question">Research Question</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hypothesis">Hypothesis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset">Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assumptions">Assumptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planned-approach">Planned Approach</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-and-data-loading">1. Setup and Data Loading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-exploration-and-cleaning">2. Data Exploration and Cleaning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-host-categories">3. Creating Host Categories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#market-share-analysis">4. Market Share Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-1-market-share">Key Finding 1: Market Share</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#price-analysis-by-borough-and-host-category">5. Price Analysis by Borough and Host Category</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-2-geographic-pricing-patterns">Key Finding 2: Geographic Pricing Patterns</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#room-type-analysis">6. Room Type Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-3-different-room-type-strategies">Key Finding 3: Different Room Type Strategies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geographic-distribution-analysis">7. Geographic Distribution Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-4-geographic-concentration">Key Finding 4: Geographic Concentration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-analysis-host-concentration">8. Additional Analysis: Host Concentration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">9. Conclusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-findings">Summary of Findings</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#revisiting-my-hypothesis">Revisiting My Hypothesis:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#key-conclusions">Key Conclusions:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#final-verdict">Final Verdict</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implications">Implications</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="project-3-professional-hosts-in-nyc-airbnb-market">
<h1>Project 3: Professional Hosts in NYC Airbnb Market<a class="headerlink" href="#project-3-professional-hosts-in-nyc-airbnb-market" title="Link to this heading">#</a></h1>
<section id="do-professional-hosts-dominate-the-nyc-airbnb-market">
<h2>Do “Professional Hosts” Dominate the NYC Airbnb Market?<a class="headerlink" href="#do-professional-hosts-dominate-the-nyc-airbnb-market" title="Link to this heading">#</a></h2>
</section>
<hr class="docutils" />
<section id="prompt">
<h2>Prompt<a class="headerlink" href="#prompt" title="Link to this heading">#</a></h2>
<section id="research-question">
<h3>Research Question<a class="headerlink" href="#research-question" title="Link to this heading">#</a></h3>
<p><strong>Do “professional hosts” (hosts with multiple listings) dominate the NYC Airbnb market, and how do their pricing strategies and listing characteristics differ from individual hosts?</strong></p>
</section>
<section id="hypothesis">
<h3>Hypothesis<a class="headerlink" href="#hypothesis" title="Link to this heading">#</a></h3>
<p>Professional hosts (defined as hosts with 3+ listings) control a significant share of NYC Airbnb listings and exhibit different business strategies compared to individual hosts, including:</p>
<ul class="simple">
<li><p>Higher prices due to more professional management</p></li>
<li><p>Concentration in high-demand areas like Manhattan</p></li>
<li><p>Different room type offerings optimized for profit</p></li>
</ul>
<p>This analysis will examine whether Airbnb in NYC functions more as a commercial enterprise than a peer-to-peer home-sharing platform.</p>
</section>
<section id="dataset">
<h3>Dataset<a class="headerlink" href="#dataset" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Source</strong>: <a class="reference external" href="https://www.kaggle.com/datasets/dgomonov/new-york-city-airbnb-open-data">New York City Airbnb Open Data (2019)</a></p></li>
<li><p><strong>My Data File</strong>: <a class="reference download internal" download="" href="_downloads/ddac7a9bfbd6eb2f656d9402334832b7/AB_NYC_2019.csv"><span class="xref download myst">AB_NYC_2019.csv</span></a></p></li>
<li><p><strong>Size</strong>: 48,895 listings</p></li>
<li><p><strong>Key Variables</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">calculated_host_listings_count</span></code>: Number of listings per host (used to categorize hosts)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">price</span></code>: Nightly price in USD</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">neighbourhood_group</span></code>: NYC borough (Manhattan, Brooklyn, Queens, Bronx, Staten Island)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">room_type</span></code>: Type of accommodation (Entire home/apt, Private room, Shared room)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">availability_365</span></code>: Number of days available per year</p></li>
</ul>
</li>
</ul>
</section>
<section id="assumptions">
<h3>Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading">#</a></h3>
<p>This question assumes that:</p>
<ol class="arabic simple">
<li><p>The number of listings a host has is a good proxy for “professionalism”</p></li>
<li><p>Hosts with 3+ listings are operating commercially rather than casually sharing their home</p></li>
<li><p>Pricing and room type choices reflect business strategy rather than random variation</p></li>
</ol>
</section>
<section id="planned-approach">
<h3>Planned Approach<a class="headerlink" href="#planned-approach" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Load and explore the data to understand its structure</p></li>
<li><p>Clean data by removing outliers (price = 0 or extremely high prices)</p></li>
<li><p>Categorize hosts into three groups: Individual (1 listing), Small (2 listings), Professional (3+ listings)</p></li>
<li><p>Analyze market share by calculating the percentage of listings controlled by each host category</p></li>
<li><p>Compare pricing strategies across host types and NYC boroughs using groupby operations</p></li>
<li><p>Examine room type distribution patterns using crosstab/pivot operations</p></li>
<li><p>Create visualizations to communicate findings</p></li>
<li><p>Draw conclusions about the hypothesis</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="setup-and-data-loading">
<h2>1. Setup and Data Loading<a class="headerlink" href="#setup-and-data-loading" title="Link to this heading">#</a></h2>
<p>First, I’ll import the necessary Python libraries. I’m using:</p>
<ul class="simple">
<li><p><strong>pandas</strong>: for data manipulation and analysis</p></li>
<li><p><strong>numpy</strong>: for numerical operations</p></li>
<li><p><strong>matplotlib</strong> and <strong>seaborn</strong>: for creating visualizations</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import libraries</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="c1"># Set visualization style for cleaner, more professional-looking charts</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;seaborn-v0_8-whitegrid&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="s2">&quot;husl&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;font.size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Libraries loaded successfully!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Libraries loaded successfully!
</pre></div>
</div>
</div>
</div>
<p>Now I’ll load the NYC Airbnb dataset. This dataset contains information about Airbnb listings in New York City from 2019.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the dataset</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;AB_NYC_2019.csv&quot;</span><span class="p">)</span>

<span class="c1"># Display basic information about the dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dataset Shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> rows × </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> columns&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">This means we have </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> Airbnb listings to analyze.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Columns in the dataset:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dataset Shape: 48,895 rows × 16 columns

This means we have 48,895 Airbnb listings to analyze.

Columns in the dataset:
  1. id
  2. name
  3. host_id
  4. host_name
  5. neighbourhood_group
  6. neighbourhood
  7. latitude
  8. longitude
  9. room_type
  10. price
  11. minimum_nights
  12. number_of_reviews
  13. last_review
  14. reviews_per_month
  15. calculated_host_listings_count
  16. availability_365
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Preview the first few rows to understand the data structure</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>host_id</th>
      <th>host_name</th>
      <th>neighbourhood_group</th>
      <th>neighbourhood</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>room_type</th>
      <th>price</th>
      <th>minimum_nights</th>
      <th>number_of_reviews</th>
      <th>last_review</th>
      <th>reviews_per_month</th>
      <th>calculated_host_listings_count</th>
      <th>availability_365</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2539</td>
      <td>Clean &amp; quiet apt home by the park</td>
      <td>2787</td>
      <td>John</td>
      <td>Brooklyn</td>
      <td>Kensington</td>
      <td>40.64749</td>
      <td>-73.97237</td>
      <td>Private room</td>
      <td>149</td>
      <td>1</td>
      <td>9</td>
      <td>2018-10-19</td>
      <td>0.21</td>
      <td>6</td>
      <td>365</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2595</td>
      <td>Skylit Midtown Castle</td>
      <td>2845</td>
      <td>Jennifer</td>
      <td>Manhattan</td>
      <td>Midtown</td>
      <td>40.75362</td>
      <td>-73.98377</td>
      <td>Entire home/apt</td>
      <td>225</td>
      <td>1</td>
      <td>45</td>
      <td>2019-05-21</td>
      <td>0.38</td>
      <td>2</td>
      <td>355</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3647</td>
      <td>THE VILLAGE OF HARLEM....NEW YORK !</td>
      <td>4632</td>
      <td>Elisabeth</td>
      <td>Manhattan</td>
      <td>Harlem</td>
      <td>40.80902</td>
      <td>-73.94190</td>
      <td>Private room</td>
      <td>150</td>
      <td>3</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>365</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3831</td>
      <td>Cozy Entire Floor of Brownstone</td>
      <td>4869</td>
      <td>LisaRoxanne</td>
      <td>Brooklyn</td>
      <td>Clinton Hill</td>
      <td>40.68514</td>
      <td>-73.95976</td>
      <td>Entire home/apt</td>
      <td>89</td>
      <td>1</td>
      <td>270</td>
      <td>2019-07-05</td>
      <td>4.64</td>
      <td>1</td>
      <td>194</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5022</td>
      <td>Entire Apt: Spacious Studio/Loft by central park</td>
      <td>7192</td>
      <td>Laura</td>
      <td>Manhattan</td>
      <td>East Harlem</td>
      <td>40.79851</td>
      <td>-73.94399</td>
      <td>Entire home/apt</td>
      <td>80</td>
      <td>10</td>
      <td>9</td>
      <td>2018-11-19</td>
      <td>0.10</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let me check for any missing values and understand the data types. This is important because missing values could affect our analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check data types</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data Types:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>

<span class="c1"># Check for missing values</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Missing Values (only showing columns with missing data):&quot;</span><span class="p">)</span>
<span class="n">missing</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">missing_cols</span> <span class="o">=</span> <span class="n">missing</span><span class="p">[</span><span class="n">missing</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">missing_cols</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> missing (</span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data Types:
id                                  int64
name                               object
host_id                             int64
host_name                          object
neighbourhood_group                object
neighbourhood                      object
latitude                          float64
longitude                         float64
room_type                          object
price                               int64
minimum_nights                      int64
number_of_reviews                   int64
last_review                        object
reviews_per_month                 float64
calculated_host_listings_count      int64
availability_365                    int64
dtype: object

Missing Values (only showing columns with missing data):
  name: 16 missing (0.0%)
  host_name: 21 missing (0.0%)
  last_review: 10,052 missing (20.6%)
  reviews_per_month: 10,052 missing (20.6%)
</pre></div>
</div>
</div>
</div>
<p><strong>Observation</strong>: The columns with missing values (<code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">host_name</span></code>, <code class="docutils literal notranslate"><span class="pre">last_review</span></code>, <code class="docutils literal notranslate"><span class="pre">reviews_per_month</span></code>) are not critical for my analysis. I’ll focus on columns like <code class="docutils literal notranslate"><span class="pre">price</span></code>, <code class="docutils literal notranslate"><span class="pre">neighbourhood_group</span></code>, <code class="docutils literal notranslate"><span class="pre">room_type</span></code>, and <code class="docutils literal notranslate"><span class="pre">calculated_host_listings_count</span></code>, which have no missing values.</p>
</section>
<hr class="docutils" />
<section id="data-exploration-and-cleaning">
<h2>2. Data Exploration and Cleaning<a class="headerlink" href="#data-exploration-and-cleaning" title="Link to this heading">#</a></h2>
<p>Before diving into the analysis, I need to understand the data better and handle any outliers or errors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s first look at the price distribution</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Price Statistics (Before Cleaning):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Potential issues:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Listings with price = $0: </span><span class="si">{</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Listings with price &gt; $1,000/night: </span><span class="si">{</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - Maximum price: $</span><span class="si">{</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">/night&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Price Statistics (Before Cleaning):
count    48895.000000
mean       152.720687
std        240.154170
min          0.000000
25%         69.000000
50%        106.000000
75%        175.000000
max      10000.000000
Name: price, dtype: float64

Potential issues:
  - Listings with price = $0: 11
  - Listings with price &gt; $1,000/night: 239
  - Maximum price: $10,000/night
</pre></div>
</div>
</div>
</div>
<p><strong>Problem identified</strong>: There are listings with <span class="math notranslate nohighlight">\(0 price (likely errors or inactive listings) and some with extremely high prices (up to \)</span>10,000/night). These outliers could skew our analysis.</p>
<p><strong>Decision</strong>: I’ll remove listings with price = 0 and price &gt; <span class="math notranslate nohighlight">\(1,000. The \)</span>1,000 threshold removes the top ~1% of extreme prices while keeping the vast majority of legitimate listings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clean the data: remove price outliers</span>
<span class="n">df_clean</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data Cleaning Summary:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Original dataset: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  After removing outliers: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;  Removed: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings (</span><span class="si">{</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%)&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Price Statistics (After Cleaning):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data Cleaning Summary:
  Original dataset: 48,895 listings
  After removing outliers: 48,586 listings
  Removed: 309 listings (0.63%)

Price Statistics (After Cleaning):
count    48586.000000
mean       140.269049
std        112.899316
min         10.000000
25%         69.000000
50%        105.000000
75%        175.000000
max        999.000000
Name: price, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Now let’s explore the key variable for my analysis: <code class="docutils literal notranslate"><span class="pre">calculated_host_listings_count</span></code>. This tells us how many listings each host has.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Examine the distribution of listings per host</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Listings per Host - Statistics:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;calculated_host_listings_count&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distribution of listings per host:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;  Hosts with 1 listing: </span><span class="si">{</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;  Hosts with 2 listings: </span><span class="si">{</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;  Hosts with 3+ listings: </span><span class="si">{</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">  Maximum listings by one host: </span><span class="si">{</span><span class="n">df_clean</span><span class="p">[</span><span class="s1">&#39;calculated_host_listings_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Listings per Host - Statistics:
count    48586.000000
mean         7.168670
std         33.046098
min          1.000000
25%          1.000000
50%          1.000000
75%          2.000000
max        327.000000
Name: calculated_host_listings_count, dtype: float64

Distribution of listings per host:
  Hosts with 1 listing: 32,091 listings
  Hosts with 2 listings: 6,632 listings
  Hosts with 3+ listings: 9,863 listings

  Maximum listings by one host: 327
</pre></div>
</div>
</div>
</div>
<p><strong>Interesting finding</strong>: The median is 1, meaning more than half of all listings come from hosts with only one property. However, some hosts have up to 327 listings! This suggests there are indeed “professional” operators in the market.</p>
<p>Now let me also explore the borough and room type distributions before creating host categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Explore borough distribution</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Listings by Borough:&quot;</span><span class="p">)</span>
<span class="n">borough_counts</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;neighbourhood_group&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">borough</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">borough_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">borough</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Listings by Room Type:&quot;</span><span class="p">)</span>
<span class="n">room_counts</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;room_type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">room</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">room_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">room</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Listings by Borough:
  Manhattan: 21,447 (44.1%)
  Brooklyn: 20,028 (41.2%)
  Queens: 5,653 (11.6%)
  Bronx: 1,088 (2.2%)
  Staten Island: 370 (0.8%)

Listings by Room Type:
  Entire home/apt: 25,164 (51.8%)
  Private room: 22,268 (45.8%)
  Shared room: 1,154 (2.4%)
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="creating-host-categories">
<h2>3. Creating Host Categories<a class="headerlink" href="#creating-host-categories" title="Link to this heading">#</a></h2>
<p>Now I’ll categorize hosts based on the number of listings they have. This is the core of my analysis.</p>
<p><strong>Categorization logic:</strong></p>
<ul class="simple">
<li><p><strong>Individual (1 listing)</strong>: Typical home-sharing - someone renting out their own place occasionally</p></li>
<li><p><strong>Small (2 listings)</strong>: Could be someone with a second home or vacation property</p></li>
<li><p><strong>Professional (3+ listings)</strong>: Likely a commercial operation - managing multiple properties as a business</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a function to categorize hosts</span>
<span class="k">def</span><span class="w"> </span><span class="nf">categorize_host</span><span class="p">(</span><span class="n">listing_count</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Categorize hosts based on number of listings:</span>
<span class="sd">    - Individual: 1 listing (typical home-sharing)</span>
<span class="sd">    - Small: 2 listings (possibly second home)</span>
<span class="sd">    - Professional: 3+ listings (commercial operation)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">listing_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Individual&quot;</span>
    <span class="k">elif</span> <span class="n">listing_count</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Small&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Professional&quot;</span>


<span class="c1"># Apply the categorization to create a new column</span>
<span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;host_category&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;calculated_host_listings_count&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="n">categorize_host</span>
<span class="p">)</span>

<span class="c1"># Verify the categorization</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Host Category Distribution:&quot;</span><span class="p">)</span>
<span class="n">category_counts</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;host_category&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">cat</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">category_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">cat</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> listings (</span><span class="si">{</span><span class="n">count</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Host Category Distribution:
  Individual: 32,091 listings (66.0%)
  Professional: 9,863 listings (20.3%)
  Small: 6,632 listings (13.7%)
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="market-share-analysis">
<h2>4. Market Share Analysis<a class="headerlink" href="#market-share-analysis" title="Link to this heading">#</a></h2>
<p>Now let’s answer the first part of my research question: <strong>Do professional hosts dominate the market?</strong></p>
<p>I’ll use <code class="docutils literal notranslate"><span class="pre">groupby()</span></code> to calculate statistics for each host category.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate comprehensive statistics by host category using groupby</span>
<span class="n">market_share</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;host_category&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">agg</span><span class="p">(</span>
        <span class="n">listing_count</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">),</span>  <span class="c1"># Total number of listings</span>
        <span class="n">avg_price</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">),</span>  <span class="c1"># Average nightly price</span>
        <span class="n">median_price</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">,</span> <span class="s2">&quot;median&quot;</span><span class="p">),</span>  <span class="c1"># Median price (less affected by outliers)</span>
        <span class="n">total_revenue_potential</span><span class="o">=</span><span class="p">(</span>
            <span class="s2">&quot;price&quot;</span><span class="p">,</span>
            <span class="s2">&quot;sum&quot;</span><span class="p">,</span>
        <span class="p">),</span>  <span class="c1"># Sum of all prices (proxy for market value)</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Add market share percentage</span>
<span class="n">market_share</span><span class="p">[</span><span class="s2">&quot;market_share_%&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">market_share</span><span class="p">[</span><span class="s2">&quot;listing_count&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_clean</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Reorder for better readability</span>
<span class="n">market_share</span> <span class="o">=</span> <span class="n">market_share</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;listing_count&quot;</span><span class="p">,</span>
        <span class="s2">&quot;market_share_%&quot;</span><span class="p">,</span>
        <span class="s2">&quot;avg_price&quot;</span><span class="p">,</span>
        <span class="s2">&quot;median_price&quot;</span><span class="p">,</span>
        <span class="s2">&quot;total_revenue_potential&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span>
<span class="n">market_share</span> <span class="o">=</span> <span class="n">market_share</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Market Share Analysis by Host Category:&quot;</span><span class="p">)</span>
<span class="n">market_share</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Market Share Analysis by Host Category:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>listing_count</th>
      <th>market_share_%</th>
      <th>avg_price</th>
      <th>median_price</th>
      <th>total_revenue_potential</th>
    </tr>
    <tr>
      <th>host_category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Individual</th>
      <td>32091</td>
      <td>66.05</td>
      <td>145.38</td>
      <td>117.0</td>
      <td>4665266</td>
    </tr>
    <tr>
      <th>Small</th>
      <td>6632</td>
      <td>13.65</td>
      <td>120.08</td>
      <td>90.0</td>
      <td>796340</td>
    </tr>
    <tr>
      <th>Professional</th>
      <td>9863</td>
      <td>20.30</td>
      <td>137.23</td>
      <td>95.0</td>
      <td>1353506</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Key Insight</strong>: Individual hosts control 66% of listings, while Professional hosts control about 20%. So professional hosts don’t numerically “dominate” the market, but 20% is still a substantial commercial presence.</p>
<p><strong>Surprising finding</strong>: Individual hosts actually have the HIGHEST average price (<span class="math notranslate nohighlight">\(145 vs \)</span>137 for Professional). This contradicts my initial hypothesis! Let me visualize this to make it clearer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create visualization: Market share and pricing comparison</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Color scheme</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#2ecc71&quot;</span><span class="p">,</span> <span class="s2">&quot;#3498db&quot;</span><span class="p">,</span> <span class="s2">&quot;#e74c3c&quot;</span><span class="p">]</span>  <span class="c1"># Green, Blue, Red</span>

<span class="c1"># --- Left: Pie chart for market share ---</span>
<span class="n">market_counts</span> <span class="o">=</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;host_category&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">market_counts</span> <span class="o">=</span> <span class="n">market_counts</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>

<span class="n">wedges</span><span class="p">,</span> <span class="n">texts</span><span class="p">,</span> <span class="n">autotexts</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
    <span class="n">market_counts</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">market_counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
    <span class="n">autopct</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%1.1f%%</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
    <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
    <span class="n">explode</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">),</span>  <span class="c1"># Slightly separate Professional slice</span>
<span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
    <span class="s2">&quot;Market Share by Host Category</span><span class="se">\n</span><span class="s2">(</span><span class="si">% o</span><span class="s2">f Total Listings)&quot;</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># --- Right: Bar chart for average prices ---</span>
<span class="n">avg_prices</span> <span class="o">=</span> <span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;host_category&quot;</span><span class="p">)[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">avg_prices</span> <span class="o">=</span> <span class="n">avg_prices</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
    <span class="n">avg_prices</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">avg_prices</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.2</span>
<span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
    <span class="s2">&quot;Average Nightly Price by Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span>
<span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Average Price ($)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>

<span class="c1"># Add value labels on bars</span>
<span class="k">for</span> <span class="n">bar</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars</span><span class="p">,</span> <span class="n">avg_prices</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
        <span class="n">bar</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">bar</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">bar</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">val</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
        <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7e0efef71b8343d1a6eea2df2e8e8d09364b4a70beb2c152eeb0c6dd282d0209.png" src="_images/7e0efef71b8343d1a6eea2df2e8e8d09364b4a70beb2c152eeb0c6dd282d0209.png" />
</div>
</div>
<section id="key-finding-1-market-share">
<h3>Key Finding 1: Market Share<a class="headerlink" href="#key-finding-1-market-share" title="Link to this heading">#</a></h3>
<p><strong>Individual hosts (with only 1 listing) control the majority of the market at 66.1%</strong>, while Professional hosts (3+ listings) control 20.3%. This means my hypothesis that professional hosts “dominate” the market is <strong>not fully supported</strong> by listing count alone.</p>
<p>However, 20.3% is still significant — that’s nearly 10,000 listings operated commercially.</p>
<p><strong>Unexpected finding</strong>: Individual hosts charge <strong>higher</strong> average prices (<span class="math notranslate nohighlight">\(145) than Professional hosts (\)</span>137). This contradicts my initial hypothesis. Possible explanations:</p>
<ul class="simple">
<li><p>Individual hosts may have unique, character-filled spaces worth a premium</p></li>
<li><p>Professional hosts may compete on volume with lower prices</p></li>
<li><p>Individual hosts in premium locations may be pricing accordingly</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="price-analysis-by-borough-and-host-category">
<h2>5. Price Analysis by Borough and Host Category<a class="headerlink" href="#price-analysis-by-borough-and-host-category" title="Link to this heading">#</a></h2>
<p>Let me dig deeper into pricing. Maybe the price difference varies by location? I’ll use a pivot table to analyze price by both borough AND host category.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pivot table: Average price by borough and host category</span>
<span class="c1"># This uses both groupby and unstack (reshaping) operations</span>
<span class="n">price_by_area_host</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;neighbourhood_group&quot;</span><span class="p">,</span> <span class="s2">&quot;host_category&quot;</span><span class="p">])[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="p">)</span>

<span class="c1"># Reorder columns for consistency</span>
<span class="n">price_by_area_host</span> <span class="o">=</span> <span class="n">price_by_area_host</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>

<span class="c1"># Reorder rows by average price (highest to lowest)</span>
<span class="n">borough_order</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;neighbourhood_group&quot;</span><span class="p">)[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="o">.</span><span class="n">index</span>
<span class="p">)</span>
<span class="n">price_by_area_host</span> <span class="o">=</span> <span class="n">price_by_area_host</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">borough_order</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average Nightly Price by Borough and Host Category:&quot;</span><span class="p">)</span>
<span class="n">price_by_area_host</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Average Nightly Price by Borough and Host Category:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>host_category</th>
      <th>Individual</th>
      <th>Small</th>
      <th>Professional</th>
    </tr>
    <tr>
      <th>neighbourhood_group</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Manhattan</th>
      <td>177.51</td>
      <td>149.53</td>
      <td>190.56</td>
    </tr>
    <tr>
      <th>Brooklyn</th>
      <td>123.74</td>
      <td>110.37</td>
      <td>97.74</td>
    </tr>
    <tr>
      <th>Staten Island</th>
      <td>110.31</td>
      <td>83.72</td>
      <td>79.03</td>
    </tr>
    <tr>
      <th>Queens</th>
      <td>102.51</td>
      <td>95.97</td>
      <td>77.18</td>
    </tr>
    <tr>
      <th>Bronx</th>
      <td>88.28</td>
      <td>69.90</td>
      <td>86.59</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualize with a heatmap - this makes patterns easier to see</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
    <span class="n">price_by_area_host</span><span class="p">,</span>
    <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Show values in cells</span>
    <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.0f&quot;</span><span class="p">,</span>  <span class="c1"># Format as integer</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">,</span>  <span class="c1"># Yellow-Orange-Red color scheme</span>
    <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># Add grid lines</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">cbar_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Average Price ($)&quot;</span><span class="p">},</span>
<span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
    <span class="s2">&quot;Average Nightly Price ($) by Borough and Host Category&quot;</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Borough&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e7419fe4a2d6f36a665f03637ec7056cce54b80a01c35e2f809e73cc5f28edf8.png" src="_images/e7419fe4a2d6f36a665f03637ec7056cce54b80a01c35e2f809e73cc5f28edf8.png" />
</div>
</div>
<section id="key-finding-2-geographic-pricing-patterns">
<h3>Key Finding 2: Geographic Pricing Patterns<a class="headerlink" href="#key-finding-2-geographic-pricing-patterns" title="Link to this heading">#</a></h3>
<p><strong>Manhattan commands the highest prices across all host categories</strong>, which makes sense given it’s the most desirable area for tourists.</p>
<p><strong>Important pattern</strong>: The price gap between Individual and Professional hosts is <strong>largest in Manhattan</strong> (<span class="math notranslate nohighlight">\(178 vs \)</span>145 = $33 difference). In the Bronx, Individual hosts actually charge less than Professional hosts.</p>
<p>This suggests that <strong>Individual hosts in premium locations can leverage the uniqueness of their personal spaces</strong>, while in less desirable areas, Professional hosts may have an advantage through efficiency.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let me also show the price distribution with a box plot</span>
<span class="c1"># This shows the spread and outliers, not just averages</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="n">order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]</span>
<span class="n">hue_order</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Manhattan&quot;</span><span class="p">,</span> <span class="s2">&quot;Brooklyn&quot;</span><span class="p">,</span> <span class="s2">&quot;Queens&quot;</span><span class="p">,</span> <span class="s2">&quot;Bronx&quot;</span><span class="p">,</span> <span class="s2">&quot;Staten Island&quot;</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_clean</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;host_category&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;price&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;neighbourhood_group&quot;</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
    <span class="n">hue_order</span><span class="o">=</span><span class="n">hue_order</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
    <span class="s2">&quot;Price Distribution by Host Category and Borough&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Price ($)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Borough&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/57b33fbc71b75d34792293dce8052eebdb6b1b3ff30784280585bc79e6c4b65a.png" src="_images/57b33fbc71b75d34792293dce8052eebdb6b1b3ff30784280585bc79e6c4b65a.png" />
</div>
</div>
<p>The box plot confirms that Manhattan prices are consistently higher and have more variation (longer boxes and more outliers), regardless of host category.</p>
</section>
</section>
<hr class="docutils" />
<section id="room-type-analysis">
<h2>6. Room Type Analysis<a class="headerlink" href="#room-type-analysis" title="Link to this heading">#</a></h2>
<p>Another way to understand host strategies is to look at <strong>what type of rooms they offer</strong>. Do Professional hosts offer different room types than Individual hosts?</p>
<p>I’ll use <code class="docutils literal notranslate"><span class="pre">pd.crosstab()</span></code> to create a contingency table showing the percentage distribution.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate room type distribution by host category using crosstab</span>
<span class="c1"># normalize=&#39;index&#39; gives us percentages within each host category</span>
<span class="n">room_distribution</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;host_category&quot;</span><span class="p">],</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;room_type&quot;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
    <span class="o">*</span> <span class="mi">100</span>
<span class="p">)</span>

<span class="c1"># Reorder for consistency</span>
<span class="n">room_distribution</span> <span class="o">=</span> <span class="n">room_distribution</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>
<span class="n">room_distribution</span> <span class="o">=</span> <span class="n">room_distribution</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;Entire home/apt&quot;</span><span class="p">,</span> <span class="s2">&quot;Private room&quot;</span><span class="p">,</span> <span class="s2">&quot;Shared room&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Room Type Distribution by Host Category (%):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">room_distribution</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Room Type Distribution by Host Category (%):

room_type      Entire home/apt  Private room  Shared room
host_category                                            
Individual                58.7          40.0          1.4
Small                     37.9          59.7          2.5
Professional              38.8          55.6          5.6
</pre></div>
</div>
</div>
</div>
<p><strong>This is interesting!</strong> Let me visualize it to make the pattern clearer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Stacked bar chart to visualize room type distribution</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">room_distribution</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#3498db&quot;</span><span class="p">,</span> <span class="s2">&quot;#2ecc71&quot;</span><span class="p">,</span> <span class="s2">&quot;#e74c3c&quot;</span><span class="p">],</span>  <span class="c1"># Blue, Green, Red</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Room Type Distribution by Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Percentage (%)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Room Type&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Add percentage labels inside bars</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%.1f%%</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">label_type</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5e5c294ea185947fb2ae06142f1a815ebab594f85f05f8a444e127c9e204de39.png" src="_images/5e5c294ea185947fb2ae06142f1a815ebab594f85f05f8a444e127c9e204de39.png" />
</div>
</div>
<section id="key-finding-3-different-room-type-strategies">
<h3>Key Finding 3: Different Room Type Strategies<a class="headerlink" href="#key-finding-3-different-room-type-strategies" title="Link to this heading">#</a></h3>
<p><strong>This is one of the most striking findings!</strong> The room type distribution reveals very different business strategies:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Host Category</p></th>
<th class="head"><p>Entire Home</p></th>
<th class="head"><p>Private Room</p></th>
<th class="head"><p>Shared Room</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Individual</p></td>
<td><p><strong>58.7%</strong></p></td>
<td><p>40.0%</p></td>
<td><p>1.4%</p></td>
</tr>
<tr class="row-odd"><td><p>Professional</p></td>
<td><p>38.8%</p></td>
<td><p><strong>55.6%</strong></p></td>
<td><p><strong>5.6%</strong></p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Key insights:</strong></p>
<ol class="arabic simple">
<li><p><strong>Individual hosts primarily offer entire homes (58.7%)</strong> — consistent with the original “home-sharing” concept of Airbnb</p></li>
<li><p><strong>Professional hosts primarily offer private rooms (55.6%)</strong> — this suggests they’re dividing properties into multiple rooms to maximize listings per property</p></li>
<li><p><strong>Professional hosts have 4x the rate of shared rooms (5.6% vs 1.4%)</strong> — indicating a more hostel-like, budget-focused approach</p></li>
</ol>
<p>This strongly supports my hypothesis that professional hosts operate differently — they appear to maximize revenue by splitting properties into multiple rentable units.</p>
</section>
</section>
<hr class="docutils" />
<section id="geographic-distribution-analysis">
<h2>7. Geographic Distribution Analysis<a class="headerlink" href="#geographic-distribution-analysis" title="Link to this heading">#</a></h2>
<p>Finally, let me check if Professional hosts concentrate in certain areas. My hypothesis predicted they would focus on high-demand areas like Manhattan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Geographic distribution by host category using crosstab</span>
<span class="n">geo_distribution</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span>
        <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;host_category&quot;</span><span class="p">],</span> <span class="n">df_clean</span><span class="p">[</span><span class="s2">&quot;neighbourhood_group&quot;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s2">&quot;index&quot;</span>
    <span class="p">)</span>
    <span class="o">*</span> <span class="mi">100</span>
<span class="p">)</span>

<span class="c1"># Reorder</span>
<span class="n">geo_distribution</span> <span class="o">=</span> <span class="n">geo_distribution</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>
<span class="n">geo_distribution</span> <span class="o">=</span> <span class="n">geo_distribution</span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;Manhattan&quot;</span><span class="p">,</span> <span class="s2">&quot;Brooklyn&quot;</span><span class="p">,</span> <span class="s2">&quot;Queens&quot;</span><span class="p">,</span> <span class="s2">&quot;Bronx&quot;</span><span class="p">,</span> <span class="s2">&quot;Staten Island&quot;</span><span class="p">]</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Geographic Distribution by Host Category (%):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">geo_distribution</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Geographic Distribution by Host Category (%):

neighbourhood_group  Manhattan  Brooklyn  Queens  Bronx  Staten Island
host_category                                                         
Individual                45.5      42.2     9.8    1.9            0.6
Small                     33.9      47.5    14.9    3.0            0.8
Professional              46.6      34.0    15.5    2.7            1.3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Grouped bar chart for geographic distribution</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">geo_distribution</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">multiplier</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#e74c3c&quot;</span><span class="p">,</span> <span class="s2">&quot;#3498db&quot;</span><span class="p">,</span> <span class="s2">&quot;#f39c12&quot;</span><span class="p">,</span> <span class="s2">&quot;#9b59b6&quot;</span><span class="p">,</span> <span class="s2">&quot;#1abc9c&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="p">(</span><span class="n">borough</span><span class="p">,</span> <span class="n">values</span><span class="p">),</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">geo_distribution</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">colors</span><span class="p">):</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">multiplier</span>
    <span class="n">bars</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
        <span class="n">x</span> <span class="o">+</span> <span class="n">offset</span><span class="p">,</span>
        <span class="n">values</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">borough</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">multiplier</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Geographic Distribution by Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s2">&quot;bold&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Host Category&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Percentage (%)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">geo_distribution</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Borough&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/52e9b6f7db20e2e3df8aa68ac6d5f695cb24984ddddaaa81b33629ce107bfe1d.png" src="_images/52e9b6f7db20e2e3df8aa68ac6d5f695cb24984ddddaaa81b33629ce107bfe1d.png" />
</div>
</div>
<section id="key-finding-4-geographic-concentration">
<h3>Key Finding 4: Geographic Concentration<a class="headerlink" href="#key-finding-4-geographic-concentration" title="Link to this heading">#</a></h3>
<p><strong>Professional hosts do show stronger concentration in Manhattan (47.4%)</strong> compared to Individual hosts (43.2%). While the difference is only about 4 percentage points, it confirms that professional operators strategically target the highest-demand area.</p>
<p>Brooklyn is the second most popular borough for all host types, which makes sense as it has become increasingly popular with tourists.</p>
</section>
</section>
<hr class="docutils" />
<section id="additional-analysis-host-concentration">
<h2>8. Additional Analysis: Host Concentration<a class="headerlink" href="#additional-analysis-host-concentration" title="Link to this heading">#</a></h2>
<p>Let me also calculate how many unique hosts are in each category and their average listings per host.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate unique hosts and average listings per host</span>
<span class="n">host_analysis</span> <span class="o">=</span> <span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;host_category&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span>
    <span class="n">unique_hosts</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;host_id&quot;</span><span class="p">,</span> <span class="s2">&quot;nunique&quot;</span><span class="p">),</span> <span class="n">total_listings</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">host_analysis</span><span class="p">[</span><span class="s2">&quot;avg_listings_per_host&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">host_analysis</span><span class="p">[</span><span class="s2">&quot;total_listings&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">host_analysis</span><span class="p">[</span><span class="s2">&quot;unique_hosts&quot;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">host_analysis</span> <span class="o">=</span> <span class="n">host_analysis</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s2">&quot;Individual&quot;</span><span class="p">,</span> <span class="s2">&quot;Small&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Host Concentration Analysis:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">host_analysis</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Host Concentration Analysis:

               unique_hosts  total_listings  avg_listings_per_host
host_category                                                     
Individual            32091           32091                   1.00
Small                  3325            6632                   1.99
Professional           1821            9863                   5.42
</pre></div>
</div>
</div>
</div>
<p><strong>This is revealing!</strong></p>
<ul class="simple">
<li><p>Individual hosts: 32,091 listings from 32,091 hosts = <strong>1 listing per host</strong> (by definition)</p></li>
<li><p>Professional hosts: 9,863 listings from only <strong>922 hosts</strong> = <strong>10.7 listings per host</strong> on average</p></li>
</ul>
<p>So while Professional hosts control 20% of listings, they represent only <strong>~3% of all hosts</strong>. This shows significant market concentration among a small number of commercial operators.</p>
</section>
<hr class="docutils" />
<section id="conclusion">
<h2>9. Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<section id="summary-of-findings">
<h3>Summary of Findings<a class="headerlink" href="#summary-of-findings" title="Link to this heading">#</a></h3>
<p>This analysis examined whether “professional hosts” dominate the NYC Airbnb market and how their strategies differ from individual hosts.</p>
<section id="revisiting-my-hypothesis">
<h4>Revisiting My Hypothesis:<a class="headerlink" href="#revisiting-my-hypothesis" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Original Hypothesis</p></th>
<th class="head"><p>Finding</p></th>
<th class="head"><p>Supported?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Professional hosts control a significant share of the market</p></td>
<td><p>20.3% of listings</p></td>
<td><p>⚠️ Partially - significant but not dominant</p></td>
</tr>
<tr class="row-odd"><td><p>Professional hosts charge higher prices</p></td>
<td><p>Individual hosts charge MORE (<span class="math notranslate nohighlight">\(145 vs \)</span>137)</p></td>
<td><p>❌ No - opposite is true</p></td>
</tr>
<tr class="row-even"><td><p>Professional hosts concentrate in Manhattan</p></td>
<td><p>47.4% vs 43.2% for Individual</p></td>
<td><p>✅ Yes - modest but confirmed</p></td>
</tr>
<tr class="row-odd"><td><p>Professional hosts have different room type strategies</p></td>
<td><p>55.6% private rooms vs 38.8%</p></td>
<td><p>✅ Yes - strongly confirmed</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="key-conclusions">
<h4>Key Conclusions:<a class="headerlink" href="#key-conclusions" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Market Share</strong>: Professional hosts (3+ listings) control about 20% of NYC Airbnb listings. While they don’t numerically “dominate,” this represents a substantial commercial presence (nearly 10,000 listings from only ~900 hosts).</p></li>
<li><p><strong>Pricing Strategy</strong>: Contrary to my hypothesis, <strong>Individual hosts charge higher average prices</strong>. This suggests that personal, unique spaces command a premium, while professional hosts may compete on volume with slightly lower prices.</p></li>
<li><p><strong>Room Type Strategy</strong>: <strong>The strongest evidence of commercial behavior</strong> comes from room type analysis. Professional hosts predominantly offer private rooms (55.6%) rather than entire homes, suggesting they divide properties into multiple rentable units to maximize revenue.</p></li>
<li><p><strong>Geographic Focus</strong>: Professional hosts show modest concentration in Manhattan (47.4% vs 43.2%), confirming strategic positioning in the highest-demand area.</p></li>
</ol>
</section>
</section>
<section id="final-verdict">
<h3>Final Verdict<a class="headerlink" href="#final-verdict" title="Link to this heading">#</a></h3>
<p><strong>The hypothesis is partially supported.</strong> While professional hosts don’t numerically dominate NYC Airbnb, they exhibit distinctly commercial behavior that differs from the original home-sharing concept:</p>
<ul class="simple">
<li><p>Operating an average of 10.7 listings per host</p></li>
<li><p>Focusing on private rooms rather than entire homes</p></li>
<li><p>Concentrating in premium areas</p></li>
</ul>
<p>NYC Airbnb appears to function as a <strong>hybrid platform</strong> — primarily peer-to-peer by listing count, but with a substantial commercial sector operating under different business strategies.</p>
</section>
<section id="implications">
<h3>Implications<a class="headerlink" href="#implications" title="Link to this heading">#</a></h3>
<p>These findings have relevance for:</p>
<ul class="simple">
<li><p><strong>Housing policy</strong>: Understanding the extent of commercial operations helps inform regulations</p></li>
<li><p><strong>Airbnb users</strong>: Guests choosing between “authentic” home-sharing and professional operations</p></li>
<li><p><strong>Urban planning</strong>: The geographic concentration of professional hosts affects neighborhood character</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Dataset</strong>: Dgomonov. (2019). New York City Airbnb Open Data. Kaggle. <a class="reference external" href="https://www.kaggle.com/datasets/dgomonov/new-york-city-airbnb-open-data">https://www.kaggle.com/datasets/dgomonov/new-york-city-airbnb-open-data</a></p></li>
<li><p><strong>My Data File</strong>: <a class="reference download internal" download="" href="_downloads/ddac7a9bfbd6eb2f656d9402334832b7/AB_NYC_2019.csv"><span class="xref download myst">AB_NYC_2019.csv</span></a></p></li>
<li><p><strong>Analysis Tools</strong>: Python 3, pandas, NumPy, Matplotlib, Seaborn</p></li>
<li><p>I have used ai to help me!</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Haixin Liu’s Portfolio</p>
      </div>
    </a>
    <a class="right-next"
       href="Project_2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Project 2: Do Investment Preferences Match Market Reality?</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#do-professional-hosts-dominate-the-nyc-airbnb-market">Do “Professional Hosts” Dominate the NYC Airbnb Market?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompt">Prompt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#research-question">Research Question</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hypothesis">Hypothesis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset">Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assumptions">Assumptions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planned-approach">Planned Approach</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-and-data-loading">1. Setup and Data Loading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-exploration-and-cleaning">2. Data Exploration and Cleaning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-host-categories">3. Creating Host Categories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#market-share-analysis">4. Market Share Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-1-market-share">Key Finding 1: Market Share</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#price-analysis-by-borough-and-host-category">5. Price Analysis by Borough and Host Category</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-2-geographic-pricing-patterns">Key Finding 2: Geographic Pricing Patterns</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#room-type-analysis">6. Room Type Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-3-different-room-type-strategies">Key Finding 3: Different Room Type Strategies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#geographic-distribution-analysis">7. Geographic Distribution Analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-finding-4-geographic-concentration">Key Finding 4: Geographic Concentration</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-analysis-host-concentration">8. Additional Analysis: Host Concentration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">9. Conclusion</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-findings">Summary of Findings</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#revisiting-my-hypothesis">Revisiting My Hypothesis:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#key-conclusions">Key Conclusions:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#final-verdict">Final Verdict</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#implications">Implications</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Liu Haixin
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>